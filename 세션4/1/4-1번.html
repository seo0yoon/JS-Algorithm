<html>

<head>
  <meta charset="UTF-8">
  <title>출력결과</title>
</head>

<body>
  <script>
    function solution(n, arr) {
      let answer;
      let max = 0;
      let sum;
      for (let i = 0; i < arr.length; i++) {
        sum = arr[i].toString().split('').reduce((a, b) =>
          a + Number(b), 0 //초기값을 정해줘야한다.
        ) //a는 누적되는값 b는 배열의 현재 위치
        if (max < sum) { // 누적되는 값을 비교
          max = sum // 새로 합한 값이 더 크면 max 값을 교체
          answer = arr[i] // answer에 합한 값이 큰 index를 저장
        } else if (max === sum) { // 합한 값이 서로 같은 index가 있다면?
          if (answer < arr[i]) {  // 어떤 인덱스가 더 큰지 비교
            answer = arr[i] // 더 큰 index 값을 answer에 저장
          }
        }
      }
      return answer;
    }
    let arr = [128, 460, 603, 40, 521, 137, 123];
    console.log(solution(7, arr));
  </script>
</body>

</html>